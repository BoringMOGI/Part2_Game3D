using System.Collections;
using System.Collections.Generic;
using UnityEngine;

public class SandBag : MonoBehaviour, IDamageable
{
    void IDamageable.OnDamaged(float amount, DAMAGE_TYPE type)
    {
        // RoundToInt : 반올림.
        // CeilToInt : 올림.
        // FloorToInt : 내림.        
        StartCoroutine(DamageEffect());

        // 데미지 매니저에게 요청.
        DamageManager.Instance.AppearDamage(transform, Mathf.RoundToInt(amount), type);
    }


    IEnumerator DamageEffect()
    {
        Material mainMat = GetComponent<MeshRenderer>().material;       // MeshRenderer의 메인 머티리얼.

        Color originColor = mainMat.color;                              // 원래 가지고있던 색을 담는다.
        mainMat.color = Color.red;                                      // 색상을 빨강으로 변경.

        yield return new WaitForSeconds(0.05f);                          // 0.2초 기다림.

        mainMat.color = originColor;                                    // 원래의 색으로 변경.
    }
}
